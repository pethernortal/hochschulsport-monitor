name: Daily Hochschulsport Check on: schedule: # Läuft täglich um 10:00 Uhr MEZ (09:00 UTC im Winter, 08:00 UTC im Sommer) - cron: '0 9 * * *' workflow_dispatch: # Ermöglicht manuelles Starten zum Testen jobs: check-hochschulsport: runs-on: ubuntu-latest steps: - name: Checkout Code uses: actions/checkout@v3 - name: Setup Python uses: actions/setup-python@v4 with: python-version: '3.11' - name: Install Dependencies run: | pip install requests beautifulsoup4 - name: Run Scraper env: WHATSAPP_PHONE: ${{ secrets.WHATSAPP_PHONE }} WHATSAPP_API_KEY: ${{ secrets.WHATSAPP_API_KEY }} run: | python scraper.py - name: Commit Status Changes run: | git config --local user.email "action@github.com" git config --local user.name "GitHub Action" git add -A git diff --quiet && git diff --staged --quiet || git commit -m "Update status $(date +'%Y-%m-%d %H:%M')" git push || echo "Nichts zu committen"
